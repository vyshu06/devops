function NewCal(a,b,c,d){if(Cal=new Calendar(dtToday),null!=c&&c&&(Cal.ShowTime=!0,null==d||"12"!=d&&"24"!=d||(TimeMode=d)),null!=a&&(Cal.Ctrl=a),null!=b&&(Cal.Format=b.toUpperCase()),exDateTime=document.getElementById(a).value,""!=exDateTime){var e,f,g,g,h,i,j,k,l,m,n,o;e=exDateTime.indexOf(DateSeparator,0),f=exDateTime.indexOf(DateSeparator,parseInt(e)+1),"DDMMYYYY"==Cal.Format.toUpperCase()||"DDMMMYYYY"==Cal.Format.toUpperCase()?(h=exDateTime.substring(e+1,f),i=exDateTime.substring(0,e)):("MMDDYYYY"==Cal.Format.toUpperCase()||"MMMDDYYYY"==Cal.Format.toUpperCase())&&(h=exDateTime.substring(0,e),i=exDateTime.substring(e+1,f)),k=isNaN(h)?Cal.GetMonthIndex(h):parseInt(h,10)-1,parseInt(k,10)>=0&&parseInt(k,10)<12&&(Cal.Month=k),parseInt(i,10)<=Cal.GetMonDays()&&parseInt(i,10)>=1&&(Cal.Date=i),j=exDateTime.substring(f+1,f+5),l=/^\d{4}$/,l.test(j)&&(Cal.Year=parseInt(j,10)),1==Cal.ShowTime&&(g=exDateTime.indexOf(":",0),tSp2=exDateTime.indexOf(":",parseInt(g)+1),m=exDateTime.substring(g,g-2),Cal.SetHour(m),n=exDateTime.substring(g+1,tSp2),Cal.SetMinute(n),o=exDateTime.substring(tSp2+1,tSp2+3),Cal.SetSecond(o))}winCal=window.open("","DateTimePicker","toolbar=0,status=0,menubar=0,fullscreen=no,width=195,height=245,resizable=0,top="+cnTop+",left="+cnLeft),docCal=winCal.document,RenderCal()}function RenderCal(){var a,b,c,d,e,f,g,h=0;for(docCal.open(),docCal.writeln("<html><head><title>"+WindowTitle+"</title>"),docCal.writeln("<script>var winMain=window.opener;</script>"),docCal.writeln("</head><body background='"+ThemeBg+"' link="+FontColor+" vlink="+FontColor+"><form name='Calendar'>"),a='<table border=1 cellpadding=1 cellspacing=1 width=\'100%\' align="center" valign="top">\n',a+="<tr>\n<td colspan='7'><table border=0 width='100%' cellpadding=0 cellspacing=0><tr><td align='left'>\n",a+='<select name="MonthSelector" onChange="javascript:winMain.Cal.SwitchMth(this.selectedIndex);winMain.RenderCal();">\n',d=0;12>d;d++)f=d==Cal.Month?"Selected":"",a+="<option "+f+" value >"+MonthName[d]+"\n";for(a+="</select></td>",a+='\n<td align=\'right\'><a href="javascript:winMain.Cal.DecYear();winMain.RenderCal()"><b><font color="'+YrSelColor+'"><</font></b></a><font face="Verdana" color="'+YrSelColor+'" size=2><b> '+Cal.Year+' </b></font><a href="javascript:winMain.Cal.IncYear();winMain.RenderCal()"><b><font color="'+YrSelColor+'">></font></b></a></td></tr></table></td>\n',a+="</tr>",ShowMonthYear&&(a+="<tr><td colspan='7'><font face='Verdana' size='2' align='center' color='"+MonthYearColor+"'><b>"+Cal.GetMonthName(ShowLongMonth)+" "+Cal.Year+"</b></font></td></tr>\n"),a+="<tr bgcolor="+WeekHeadColor+">",d=0;7>d;d++)a+="<td align='center'><font face='Verdana' size='2'>"+WeekDayName[d].substr(0,WeekChar)+"</font></td>";for(a+="</tr>",docCal.write(a),CalDate=new Date(Cal.Year,Cal.Month),CalDate.setDate(1),g=CalDate.getDay(),b="<tr>",d=0;g>d;d++)b+=GenCell(),h+=1;for(e=1;e<=Cal.GetMonDays();e++){var i;h+=1,i=e==dtToday.getDate()&&Cal.Month==dtToday.getMonth()&&Cal.Year==dtToday.getFullYear()?GenCell(e,!0,TodayColor):e==Cal.Date?GenCell(e,!0,SelDateColor):h%7==0?GenCell(e,!1,SaturdayColor):(h+6)%7==0?GenCell(e,!1,SundayColor):GenCell(e,null,WeekDayColor),b+=i,h%7==0&&e<Cal.GetMonDays()&&(b+="</tr>\n<tr>")}if(docCal.writeln(b),Cal.ShowTime){var j;if(j=Cal.getShowHour(),c="<tr>\n<td colspan='7' align='center'>",c+="<input type='text' name='hour' maxlength=2 size=1 style=\"WIDTH: 22px\" value="+j+' onchange="javascript:winMain.Cal.SetHour(this.value)">',c+=" : ",c+="<input type='text' name='minute' maxlength=2 size=1 style=\"WIDTH: 22px\" value="+Cal.Minutes+' onchange="javascript:winMain.Cal.SetMinute(this.value)">',c+=" : ",c+="<input type='text' name='second' maxlength=2 size=1 style=\"WIDTH: 22px\" value="+Cal.Seconds+' onchange="javascript:winMain.Cal.SetSecond(this.value)">',12==TimeMode){var k=parseInt(Cal.Hours,10)<12?"Selected":"",l=parseInt(Cal.Hours,10)>=12?"Selected":"";c+='<select name="ampm" onchange="javascript:winMain.Cal.SetAmPm(this.options[this.selectedIndex].value);">',c+="<option "+k+' value="AM">AM</option>',c+="<option "+l+' value="PM">PM<option>',c+="</select>"}c+="\n</td>\n</tr>",docCal.write(c)}docCal.writeln("\n</table>"),docCal.writeln("</form></body></html>"),docCal.close()}function GenCell(a,b,c){var d,e,f,g,h;return d=null==a?"":a,f=null!=c?'bgcolor="'+c+'"':"",null!=b&&b?(g="color='red'><b>",vHLstr2="</b>"):(g=">",vHLstr2=""),Cal.ShowTime?(h="winMain.document.getElementById('"+Cal.Ctrl+"').value+=' '+winMain.Cal.getShowHour()+':'+winMain.Cal.Minutes+':'+winMain.Cal.Seconds",12==TimeMode&&(h+="+' '+winMain.Cal.AMorPM")):h="",e="<td "+f+" width="+CellWidth+" align='center'><font face='verdana' size='2'"+g+"<a href=\"javascript:winMain.document.getElementById('"+Cal.Ctrl+"').value='"+Cal.FormatDate(d)+"';"+h+';window.close();">'+d+"</a>"+vHLstr2+"</font></td>"}function Calendar(a,b){this.Date=a.getDate(),this.Month=a.getMonth(),this.Year=a.getFullYear(),this.Hours=a.getHours(),a.getMinutes()<10?this.Minutes="0"+a.getMinutes():this.Minutes=a.getMinutes(),a.getSeconds()<10?this.Seconds="0"+a.getSeconds():this.Seconds=a.getSeconds(),this.MyWindow=winCal,this.Ctrl=b,this.Format="ddMMyyyy",this.Separator=DateSeparator,this.ShowTime=!1,a.getHours()<12?this.AMorPM="AM":this.AMorPM="PM"}function GetMonthIndex(a){for(i=0;i<12;i++)if(MonthName[i].substring(0,3).toUpperCase()==a.toUpperCase())return i}function IncYear(){Cal.Year++}function DecYear(){Cal.Year--}function SwitchMth(a){Cal.Month=a}function SetHour(a){var b,c;24==TimeMode?(b=23,c=0):12==TimeMode?(b=12,c=1):alert("TimeMode can only be 12 or 24");var d=new RegExp("^\\d\\d$");d.test(a)&&parseInt(a,10)<=b&&parseInt(a,10)>=c&&(12==TimeMode&&"PM"==Cal.AMorPM?12==parseInt(a,10)?Cal.Hours=12:Cal.Hours=parseInt(a,10)+12:12==TimeMode&&"AM"==Cal.AMorPM?(12==a&&(a-=12),Cal.Hours=parseInt(a,10)):24==TimeMode&&(Cal.Hours=parseInt(a,10)))}function SetMinute(a){var b=new RegExp("^\\d\\d$");b.test(a)&&60>a&&(Cal.Minutes=a)}function SetSecond(a){var b=new RegExp("^\\d\\d$");b.test(a)&&60>a&&(Cal.Seconds=a)}function SetAmPm(a){this.AMorPM=a,"PM"==a?(this.Hours=parseInt(this.Hours,10)+12,24==this.Hours&&(this.Hours=12)):"AM"==a&&(this.Hours-=12)}function getShowHour(){var a;return 12==TimeMode?0==parseInt(this.Hours,10)?(this.AMorPM="AM",a=parseInt(this.Hours,10)+12):12==parseInt(this.Hours,10)?(this.AMorPM="PM",a=12):this.Hours>12?(this.AMorPM="PM",a=this.Hours-12<10?"0"+(parseInt(this.Hours,10)-12):parseInt(this.Hours,10)-12):(this.AMorPM="AM",a=this.Hours<10?"0"+parseInt(this.Hours,10):this.Hours):24==TimeMode&&(a=this.Hours<10?"0"+parseInt(this.Hours,10):this.Hours),a}function GetMonthName(a){var b=MonthName[this.Month];return a?b:b.substr(0,3)}function GetMonDays(){var a=[31,28,31,30,31,30,31,31,30,31,30,31];return this.IsLeapYear()&&(a[1]=29),a[this.Month]}function IsLeapYear(){return this.Year%4==0?this.Year%100==0&&this.Year%400!=0?!1:!0:!1}function FormatDate(a){return"DDMMYYYY"==this.Format.toUpperCase()?a+DateSeparator+(this.Month+1)+DateSeparator+this.Year:"DDMMMYYYY"==this.Format.toUpperCase()?a+DateSeparator+this.GetMonthName(!1)+DateSeparator+this.Year:"MMDDYYYY"==this.Format.toUpperCase()?this.Month+1+DateSeparator+a+DateSeparator+this.Year:"MMMDDYYYY"==this.Format.toUpperCase()?this.GetMonthName(!1)+DateSeparator+a+DateSeparator+this.Year:void 0}function validateForm(){var a=document.forms.loginForm.loginId.value,b=document.forms.loginForm.password.value;return null==a||""==a?(alert("LoginId must be filled out"),!1):null==b||""==b?(alert("Password must be filled out"),!1):!0}function validateFormService(){var a=document.forms.createServiceRequestForm.username.value,b=document.forms.createServiceRequestForm.emailid.value;return null==a||""==a?(alert("UserName must be filled out"),!1):null==b||""==b?(alert("Email Id must be filled out"),!1):!0}var winCal,dtToday=new Date,Cal,docCal,MonthName=["January","February","March","April","May","June","July","August","September","October","November","December"],WeekDayName=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],exDateTime,cnTop="200",cnLeft="500",WindowTitle="DateTime Picker",WeekChar=2,CellWidth=20,DateSeparator="-",TimeMode=24,ShowLongMonth=!0,ShowMonthYear=!0,MonthYearColor="#cc0033",WeekHeadColor="#0099CC",SundayColor="#6699FF",SaturdayColor="#CCCCFF",WeekDayColor="white",FontColor="blue",TodayColor="#FFFF33",SelDateColor="#FFFF99",YrSelColor="#cc0033",ThemeBg="";Calendar.prototype.GetMonthIndex=GetMonthIndex,Calendar.prototype.IncYear=IncYear,Calendar.prototype.DecYear=DecYear,Calendar.prototype.SwitchMth=SwitchMth,Calendar.prototype.SetHour=SetHour,Calendar.prototype.SetMinute=SetMinute,Calendar.prototype.SetSecond=SetSecond,Calendar.prototype.SetAmPm=SetAmPm,Calendar.prototype.getShowHour=getShowHour,Calendar.prototype.GetMonthName=GetMonthName,Calendar.prototype.GetMonDays=GetMonDays,Calendar.prototype.IsLeapYear=IsLeapYear,Calendar.prototype.FormatDate=FormatDate;